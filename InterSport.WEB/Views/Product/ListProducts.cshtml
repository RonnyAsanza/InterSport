@using InterSport.Domain.Models
@model List<ProductViewModel>

<table id="tblProducts" class="display cell-border" style="width: 100%">
    <thead>
        <tr id="idTr">
            <th class="col-1">ID</th>
            <th class="col-2">Name</th>
            <th class="col-2">Description</th>
            <th class="col-1">Price</th>
            <th class="col-1">Brand</th>
            <th class="col-1">Category</th>
            <th class="col-1">Stock</th>
            <th class="col-1">Active</th>
            <th class="col-1">Edit</th>
            <th class="col-1">Delete</th>

        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model)
        {
            <tr>
                <td>@item.ProductId</td>
                <td>@item.Name</td>
                <td>@item.Description</td>
                <td>$ @item.Price</td>
                <td>@item.DescriptionB</td>
                <td>@item.DescriptionC</td>
                <td>@item.Stock</td>
                <td>@item.IsActive</td>
                <td>
                    <button class='btn btn-primary col-12' onclick='OnEditProduct("@item.ProductId")'>Edit</button>
                </td>
                <td>
                    <button class='btn btn-danger col-12' onclick='OnDeleteProduct("@item.ProductId")'>Delete</button>
                </td>
            </tr>
        }
    </tbody>
</table>

<script>

        var tabla = $("#tblProducts").DataTable({
            "responsive": true
        });

        function OnEditProduct(productId) {
            var products = @Html.Raw(Json.Encode(Model));
            var product = products.find(x => x.ProductId == productId);
            openModal(product);
        }

</script>
